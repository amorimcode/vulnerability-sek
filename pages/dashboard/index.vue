<template>
  <div>
    <section class="mx-auto p-4">
      <div class="flex items-center justify-between mb-4 mt-2">
        <h2 class="font-semibold text-gray-900">Resumo</h2>
      </div>

      <Resume />
    </section>

    <div class="border-b-2 mt-10"></div>

    <section class="mx-auto p-4">
      <div class="flex items-center justify-between mb-4 mt-2">
        <h2 class="font-semibold text-gray-900">Lista de vulnerabilidades</h2>
      </div>

      <div class="border-2 rounded p-4 mb-20">
        <Datatable :table-data="dashboardData" />
      </div>
    </section>
  </div>
</template>

<script lang="ts" setup>
import DashboardRepository from "~/repositories/dashboard";

const getDashboard = async () => {
  const data = await DashboardRepository.getDashboard();

  return data;
};

const dashboardData = await getDashboard();
</script>
